# Padr√£o de Projeto Decorator
## üìò Defini√ß√£o (GoF)

> ‚ÄúAnexa responsabilidades adicionais a um objeto dinamicamente. Os decoradores fornecem uma alternativa flex√≠vel √† subclasse para estender funcionalidades.‚Äù
> ‚Äî Design Patterns: Elements of Reusable Object-Oriented Software, GoF, 1994

---

## O Princ√≠pio de design 

Decorator segue o princ√≠pio aberto/fechado (OCP):
Entidades de software (classes, m√≥dulos, fun√ß√µes, etc.) devem estar abertas para extens√£o, mas fechadas para modifica√ß√£o.


Adicionar novos comportamentos a objetos sem modificar suas estruturas originais, usando composi√ß√£o ao inv√©s de heran√ßa direta.

## Por que usamos Decorator no projeto?

No nosso projeto de f√≥rum voltado ao mundo do caf√©, aplicamos o padr√£o Decorator para representar os diferentes tipos de usu√°rios e seus respectivos poderes e permiss√µes. Isso nos permite:

Adicionar dinamicamente comportamentos e permiss√µes espec√≠ficas como "comentar", "excluir coment√°rio", "aprovar t√≥pico" etc., sem precisar criar subclasses para cada combina√ß√£o.

Encadear responsabilidades de forma flex√≠vel, permitindo criar, por exemplo, um Usu√°rioLogado que tamb√©m √© Moderador e Lojista.

Evitar heran√ßas r√≠gidas e explos√£o de subclasses, tornando o sistema mais coeso, extens√≠vel e aderente ao princ√≠pio aberto/fechado (OCP).

## Estrutura aplicada

`Interface IUsuario`: define o m√©todo b√°sico acesso_topico().

`DecoratorUsuarioConvidado`: representa um usu√°rio visitante com acesso restrito.

`DecoratorUsuarioLogado`: encapsula um IUsuario e adiciona funcionalidades b√°sicas como comentar, visualizar_links e excluir_comentario.

### Decoradores espec√≠ficos:

`DecoratorLojista`: adiciona capacidades como criar_estabelecimento.

`DecoratorModerador`: permite aprovar/remover t√≥picos e remover permiss√µes.

`DecoratorAdm`: concede/remover permiss√µes e possui maior controle administrativo.

![Decorator.png](docs/assets/diagrama_decorator.jpg)

## Exemplo pr√°tico no projeto: 

### Interface IUsuario 
```python
class IUsuario(ABC):
    @abstractmethod
    def acesso_topico(self) -> bool:
        pass
```
### Decorator Usu√°rios -> Convidado e Logado

```python
class UsuarioConvidado(IUsuario):
    def acesso_topico(self) -> bool:
        print("Convidado: acesso somente leitura.")
        return True


class UsuarioLogado(IUsuario):
    def __init__(self, componente: IUsuario):
        self.componente = componente
        self.permissoes: List[str] = []
        self.rank: str = "membro"

    def acesso_topico(self) -> bool:
        return self.componente.acesso_topico()

    def comentar(self):
        print("Coment√°rio realizado.")

    def excluir_comentario(self, comentario: str):
        print(f"Coment√°rio '{comentario}' exclu√≠do.")

    def visualizar_links(self):
        print("Links vis√≠veis para o usu√°rio.")
```
## Exemplo de Uso
```python
    print("\n--- USU√ÅRIO CONVIDADO ---")
    convidado = UsuarioConvidado()
    convidado.acesso_topico()

    print("\n--- USU√ÅRIO LOGADO ---")
    usuario_logado = UsuarioLogado(convidado)
    usuario_logado.acesso_topico()
    usuario_logado.comentar()
    usuario_logado.visualizar_links()
```

### Resultado esperado
![teste_decorator](docs/assets/teste_decorator.png)

## Referencias

Gamma, Erich; Helm, Richard; Johnson, Ralph; Vlissides, John.
Design Patterns: Elements of Reusable Object-Oriented Software.
Addison-Wesley, 1994.

Freeman, Eric; Robson, Elisabeth.
Head First Design Patterns: A Brain-Friendly Guide.
O'Reilly Media, 2004 / 2021 (2¬™ edi√ß√£o).

Larman, Craig.
Applying UML and Patterns: An Introduction to Object-Oriented Analysis and Design and Iterative Development.
Prentice Hall, 2004.

Eckel, Bruce.
Thinking in Patterns (with Java).

Pugh, Jim.
‚ÄúDesign Patterns Explained Simply.‚Äù
Medium / Towards Data Science, 2018.

Refactoring Guru
https://refactoring.guru

### Hist√≥rico de Vers√£o

| Vers√£o | Data       | Altera√ß√£o              | Respons√°vel     | Revisor           | Data de revis√£o |
|--------|------------|------------------------|------------------|-------------------|------------------|
| `1.0` | 02/05/2025  | Cria√ß√£o do documento e conte√∫do. | [Geovane Freitas](https://github.com/GeovaneSFT), [Marcos Castilhos](https://github.com/Marcosatc147) |  | 

### Controle de Revis√£o
| Revisor | Data | Descri√ß√£o |
|---|---|---|
| | | |
